{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { insertStore, getFindIfExistStore } from \"@/api\";\nimport { ElMessage, ElMessageBox } from \"element-plus\";\nexport default {\n  data() {\n    return {\n      radio: \"1\",\n      chosedDate: \"\",\n      value: \"\",\n      addForm: {\n        storeId: \"\",\n        storeName: \"\",\n        storeType: \"\",\n        workers: \"\",\n        size: \"\",\n        address: \"\",\n        manger: \"\"\n      },\n      addFormRules: {\n        storeId: [{\n          required: true,\n          message: \"请输入门店序号\",\n          trigger: \"blur\"\n        }],\n        storeName: [{\n          required: true,\n          message: \"请输入门店名称\",\n          trigger: \"blur\"\n        }],\n        storeType: [{\n          required: true,\n          message: \"请选择门店类型\",\n          trigger: 'change'\n        }],\n        workers: [{\n          required: true,\n          message: \"请输入门店人数\",\n          trigger: \"blur\"\n        }],\n        size: [{\n          required: true,\n          message: \"请输入门店面积\",\n          trigger: \"blur\"\n        }],\n        address: [{\n          required: true,\n          message: \"请输入门店地址\",\n          trigger: \"blur\"\n        }],\n        manger: [{\n          required: true,\n          message: \"请输入门店管理员\",\n          trigger: \"blur\"\n        }]\n      },\n      field102Options: [{\n        label: \"总公司\",\n        value: \"总公司\"\n      }, {\n        label: \"分公司\",\n        value: \"分公司\"\n      }, {\n        label: \"部门\",\n        value: \"部门\"\n      }]\n    };\n  },\n  methods: {\n    cancelMyStore() {\n      this.$router.push({\n        name: \"myStore\"\n      });\n    },\n    myStore() {\n      getFindIfExistStore(this.addForm.storeId).then(datas => {\n        if (datas.data.length != 0) {\n          ElMessage({\n            type: \"warning\",\n            message: \"门店序号已存在\"\n          });\n        } else {\n          if (this.addForm.storeId === \"\" || this.addForm.storeName === \"\" || this.addForm.storeType === \"\" || this.addForm.address === \"\" || this.addForm.size === \"\" || this.addForm.workers === \"\" || this.addForm.manger === \"\") {\n            ElMessage({\n              type: \"warning\",\n              message: \"请完整填写门店信息\"\n            });\n            return;\n          }\n          insertStore(this.addForm.storeId, this.addForm.storeName, this.addForm.storeType, this.addForm.address, this.addForm.size, this.addForm.manger, this.addForm.workers);\n          ElMessage({\n            type: \"success\",\n            message: \"新建门店成功\"\n          });\n          this.$router.push({\n            name: \"myStore\"\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["insertStore","getFindIfExistStore","ElMessage","ElMessageBox","data","radio","chosedDate","value","addForm","storeId","storeName","storeType","workers","size","address","manger","addFormRules","required","message","trigger","field102Options","label","methods","cancelMyStore","$router","push","name","myStore","then","datas","length","type"],"sourceRoot":"","sources":["C:\\Users\\z'k\\Desktop\\schedule\\intelligent-schedule\\src\\views\\StoreManagement\\AddStore.vue"],"sourcesContent":["<template>\r\n  <el-card>\r\n    <el-form ref=\"addFormRef\" :model=\"addForm\" :rules=\"addFormRules\">\r\n      <h4>基础信息</h4>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店序号：\" prop=\"storeId\">\r\n            <el-input v-model=\"addForm.storeId\" placeholder=\"请输入门店序号\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店名称：\" prop=\"storeName\">\r\n            <el-input\r\n              v-model=\"addForm.storeName\"\r\n              placeholder=\"请输入门店名称\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n          <el-form-item label=\"门店类型：\" prop=\"storeType\">\r\n            <el-select\r\n              v-model=\"addForm.storeType\"\r\n              placeholder=\"请选择门店类型\"\r\n              clearable\r\n            >\r\n              <el-option\r\n                v-for=\"(item, storeId) in field102Options\"\r\n                :key=\"storeId\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n                :disabled=\"item.disabled\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店地址：\" prop=\"address\">\r\n            <el-input\r\n              v-model=\"addForm.address\"\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 4, maxRows: 4 }\"\r\n              placeholder=\"请输入门店地址\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店面积：\" prop=\"size\">\r\n            <el-input v-model=\"addForm.size\" placeholder=\"请输入门店面积\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店人数：\" prop=\"workers\">\r\n            <el-input v-model=\"addForm.workers\" placeholder=\"请输入门店人数\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店管理员：\" prop=\"manger\">\r\n            <el-input v-model=\"addForm.manger\" placeholder=\"请输入管理员\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"btns\">\r\n        <el-button @click=\"cancelMyStore\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"myStore\">保存</el-button>\r\n      </div>\r\n    </el-form>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { insertStore, getFindIfExistStore } from \"@/api\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      radio: \"1\",\r\n      chosedDate: \"\",\r\n      value: \"\",\r\n      addForm: {\r\n        storeId: \"\",\r\n        storeName: \"\",\r\n        storeType: \"\",\r\n        workers: \"\",\r\n        size: \"\",\r\n        address: \"\",\r\n        manger: \"\",\r\n      },\r\n      addFormRules: {\r\n        storeId: [\r\n          { required: true, message: \"请输入门店序号\", trigger: \"blur\" },\r\n        ],\r\n        storeName: [\r\n          { required: true, message: \"请输入门店名称\", trigger: \"blur\" },\r\n        ],\r\n        storeType: [\r\n          { required: true, message: \"请选择门店类型\", trigger: 'change' },\r\n        ],\r\n        workers: [\r\n          { required: true, message: \"请输入门店人数\", trigger: \"blur\" },\r\n        ],\r\n        size: [{ required: true, message: \"请输入门店面积\", trigger: \"blur\" }],\r\n        address: [\r\n          { required: true, message: \"请输入门店地址\", trigger: \"blur\" },\r\n        ],\r\n        manger: [\r\n          { required: true, message: \"请输入门店管理员\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      field102Options: [\r\n        {\r\n          label: \"总公司\",\r\n          value: \"总公司\",\r\n        },\r\n        {\r\n          label: \"分公司\",\r\n          value: \"分公司\",\r\n        },\r\n        {\r\n          label: \"部门\",\r\n          value: \"部门\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    cancelMyStore() {\r\n      this.$router.push({\r\n        name: \"myStore\",\r\n      });\r\n    },\r\n    myStore() {\r\n      getFindIfExistStore(this.addForm.storeId).then((datas) => {\r\n        if (datas.data.length != 0) {\r\n          ElMessage({\r\n            type: \"warning\",\r\n            message: \"门店序号已存在\",\r\n          });\r\n        } else {\r\n          if (\r\n            this.addForm.storeId === \"\" ||\r\n            this.addForm.storeName === \"\" ||\r\n            this.addForm.storeType === \"\" ||\r\n            this.addForm.address === \"\" ||\r\n            this.addForm.size === \"\" ||\r\n            this.addForm.workers === \"\" ||\r\n            this.addForm.manger === \"\"\r\n          ) {\r\n            ElMessage({\r\n              type: \"warning\",\r\n              message: \"请完整填写门店信息\",\r\n            });\r\n            return;\r\n          }\r\n          insertStore(\r\n            this.addForm.storeId,\r\n            this.addForm.storeName,\r\n            this.addForm.storeType,\r\n            this.addForm.address,\r\n            this.addForm.size,\r\n            this.addForm.manger,\r\n            this.addForm.workers\r\n          );\r\n          ElMessage({\r\n            type: \"success\",\r\n            message: \"新建门店成功\",\r\n          });\r\n          this.$router.push({\r\n            name: \"myStore\",\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh4 {\r\n  position: relative;\r\n  padding-left: 10px;\r\n}\r\nh4::before {\r\n  position: absolute;\r\n  left: -5px;\r\n  top: 2px;\r\n  content: \"\";\r\n  width: 4px;\r\n  height: 18px;\r\n  background-color: skyblue;\r\n}\r\n.state {\r\n  margin-left: 25px;\r\n}\r\n.btns {\r\n  margin-top: 20px;\r\n  margin-left: 800px;\r\n}\r\n.el-button {\r\n  margin-right: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}