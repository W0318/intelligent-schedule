{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-50afbf45\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"基础信息\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"btns\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createBlock(_component_el_card, null, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      ref: \"addFormRef\",\n      model: $data.addForm,\n      rules: $data.addFormRules\n    }, {\n      default: _withCtx(() => [_hoisted_1, _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 13\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店序号：\",\n            prop: \"storeId\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.addForm.storeId,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.addForm.storeId = $event),\n              placeholder: \"请输入门店序号\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 13\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店名称：\",\n            prop: \"storeName\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.addForm.storeName,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.addForm.storeName = $event),\n              placeholder: \"请输入门店名称\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 10\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店类型：\",\n            prop: \"storeType\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_select, {\n              modelValue: $data.addForm.storeType,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.addForm.storeType = $event),\n              placeholder: \"请选择门店类型\",\n              clearable: \"\"\n            }, {\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.field102Options, (item, storeId) => {\n                return _openBlock(), _createBlock(_component_el_option, {\n                  key: storeId,\n                  label: item.label,\n                  value: item.value,\n                  disabled: item.disabled\n                }, null, 8 /* PROPS */, [\"label\", \"value\", \"disabled\"]);\n              }), 128 /* KEYED_FRAGMENT */))]),\n\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 13\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店地址：\",\n            prop: \"address\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.addForm.address,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.addForm.address = $event),\n              type: \"textarea\",\n              autosize: {\n                minRows: 4,\n                maxRows: 4\n              },\n              placeholder: \"请输入门店地址\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 13\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店面积：\",\n            prop: \"size\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.addForm.size,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.addForm.size = $event),\n              placeholder: \"请输入门店面积\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 13\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店人数：\",\n            prop: \"workers\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.addForm.workers,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.addForm.workers = $event),\n              placeholder: \"请输入门店人数\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 13\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"门店管理员：\",\n            prop: \"manger\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.addForm.manger,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.addForm.manger = $event),\n              placeholder: \"请输入管理员\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_button, {\n        onClick: $options.cancelMyStore\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"取消\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.myStore\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"保存\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\", \"rules\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","_createBlock","_component_el_card","_createVNode","_component_el_form","ref","model","$data","rules","_hoisted_1","_component_el_row","_component_el_col","span","_component_el_form_item","label","prop","_component_el_input","storeId","placeholder","storeName","_component_el_select","storeType","clearable","_createElementBlock","_Fragment","item","_component_el_option","key","value","disabled","address","type","autosize","minRows","maxRows","size","workers","manger","_hoisted_2","_component_el_button","onClick","$options"],"sourceRoot":"","sources":["E:\\work\\vue\\schedule\\intelligent-schedule\\src\\views\\StoreManagement\\AddStore.vue"],"sourcesContent":["<template>\r\n  <el-card>\r\n    <el-form ref=\"addFormRef\" :model=\"addForm\" :rules=\"addFormRules\">\r\n      <h4>基础信息</h4>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店序号：\" prop=\"storeId\">\r\n            <el-input v-model=\"addForm.storeId\" placeholder=\"请输入门店序号\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店名称：\" prop=\"storeName\">\r\n            <el-input\r\n              v-model=\"addForm.storeName\"\r\n              placeholder=\"请输入门店名称\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n          <el-form-item label=\"门店类型：\" prop=\"storeType\">\r\n            <el-select\r\n              v-model=\"addForm.storeType\"\r\n              placeholder=\"请选择门店类型\"\r\n              clearable\r\n            >\r\n              <el-option\r\n                v-for=\"(item, storeId) in field102Options\"\r\n                :key=\"storeId\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n                :disabled=\"item.disabled\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店地址：\" prop=\"address\">\r\n            <el-input\r\n              v-model=\"addForm.address\"\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 4, maxRows: 4 }\"\r\n              placeholder=\"请输入门店地址\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店面积：\" prop=\"size\">\r\n            <el-input v-model=\"addForm.size\" placeholder=\"请输入门店面积\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店人数：\" prop=\"workers\">\r\n            <el-input v-model=\"addForm.workers\" placeholder=\"请输入门店人数\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item label=\"门店管理员：\" prop=\"manger\">\r\n            <el-input v-model=\"addForm.manger\" placeholder=\"请输入管理员\" />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"btns\">\r\n        <el-button @click=\"cancelMyStore\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"myStore\">保存</el-button>\r\n      </div>\r\n    </el-form>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { insertStore, getFindIfExistStore } from \"@/api\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      radio: \"1\",\r\n      chosedDate: \"\",\r\n      value: \"\",\r\n      addForm: {\r\n        storeId: \"\",\r\n        storeName: \"\",\r\n        storeType: \"\",\r\n        workers: \"\",\r\n        size: \"\",\r\n        address: \"\",\r\n        manger: \"\",\r\n      },\r\n      addFormRules: {\r\n        storeId: [\r\n          { required: true, message: \"请输入门店序号\", trigger: \"blur\" },\r\n        ],\r\n        storeName: [\r\n          { required: true, message: \"请输入门店名称\", trigger: \"blur\" },\r\n        ],\r\n        storeType: [\r\n          { required: true, message: \"请选择门店类型\", trigger: 'change' },\r\n        ],\r\n        workers: [\r\n          { required: true, message: \"请输入门店人数\", trigger: \"blur\" },\r\n        ],\r\n        size: [{ required: true, message: \"请输入门店面积\", trigger: \"blur\" }],\r\n        address: [\r\n          { required: true, message: \"请输入门店地址\", trigger: \"blur\" },\r\n        ],\r\n        manger: [\r\n          { required: true, message: \"请输入门店管理员\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      field102Options: [\r\n        {\r\n          label: \"总公司\",\r\n          value: \"总公司\",\r\n        },\r\n        {\r\n          label: \"分公司\",\r\n          value: \"分公司\",\r\n        },\r\n        {\r\n          label: \"部门\",\r\n          value: \"部门\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    cancelMyStore() {\r\n      this.$router.push({\r\n        name: \"myStore\",\r\n      });\r\n    },\r\n    myStore() {\r\n      getFindIfExistStore(this.addForm.storeId).then((datas) => {\r\n        if (datas.data.length != 0) {\r\n          ElMessage({\r\n            type: \"warning\",\r\n            message: \"门店序号已存在\",\r\n          });\r\n        } else {\r\n          if (\r\n            this.addForm.storeId === \"\" ||\r\n            this.addForm.storeName === \"\" ||\r\n            this.addForm.storeType === \"\" ||\r\n            this.addForm.address === \"\" ||\r\n            this.addForm.size === \"\" ||\r\n            this.addForm.workers === \"\" ||\r\n            this.addForm.manger === \"\"\r\n          ) {\r\n            ElMessage({\r\n              type: \"warning\",\r\n              message: \"请完整填写门店信息\",\r\n            });\r\n            return;\r\n          }\r\n          insertStore(\r\n            this.addForm.storeId,\r\n            this.addForm.storeName,\r\n            this.addForm.storeType,\r\n            this.addForm.address,\r\n            this.addForm.size,\r\n            this.addForm.manger,\r\n            this.addForm.workers\r\n          );\r\n          ElMessage({\r\n            type: \"success\",\r\n            message: \"新建门店成功\",\r\n          });\r\n          this.$router.push({\r\n            name: \"myStore\",\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh4 {\r\n  position: relative;\r\n  padding-left: 10px;\r\n}\r\nh4::before {\r\n  position: absolute;\r\n  left: -5px;\r\n  top: 2px;\r\n  content: \"\";\r\n  width: 4px;\r\n  height: 18px;\r\n  background-color: skyblue;\r\n}\r\n.state {\r\n  margin-left: 25px;\r\n}\r\n.btns {\r\n  margin-top: 20px;\r\n  margin-left: 800px;\r\n}\r\n.el-button {\r\n  margin-right: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}