{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\n// import LogIn from './components/LogIn.vue'\nimport ElementPlus from 'element-plus';\nimport zhCn from 'element-plus/dist/locale/zh-cn.mjs';\nimport 'element-plus/dist/index.css';\nimport router from './router';\n// 统一导入 element 图标\nimport * as icons from '@element-plus/icons-vue';\nimport store from './store';\nimport Cookie from 'js-cookie';\n// import api from './api'\nimport './api/mock.js';\nconst app = createApp(App);\n// 注册全局 element-icons 组件\nObject.keys(icons).forEach(key => {\n  app.component(key, icons[key]);\n});\n//添加全局前置守为\nrouter.beforeEach((to, from, next) => {\n  // token不存在，说明用户未存在，应该调到登录界面\n  const token = Cookie.get('token');\n  if (!token && to.name !== 'Login') {\n    next({\n      name: 'Login'\n    });\n  } else if (token && to.name === 'Login') {\n    next({\n      name: 'Home'\n    });\n  } else {\n    next();\n  }\n});\n// app.config.globalProperties.$api = api\napp.use(ElementPlus, {\n  locale: zhCn\n}).use(router).use(store).mount('#app');","map":{"version":3,"names":["createApp","App","ElementPlus","zhCn","router","icons","store","Cookie","app","Object","keys","forEach","key","component","beforeEach","to","from","next","token","get","name","use","locale","mount"],"sources":["C:/Users/z'k/Desktop/schedule/intelligent-schedule/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n// import LogIn from './components/LogIn.vue'\r\nimport ElementPlus from 'element-plus'\r\nimport zhCn from 'element-plus/dist/locale/zh-cn.mjs'\r\nimport 'element-plus/dist/index.css'\r\nimport router from './router'\r\n// 统一导入 element 图标\r\nimport * as icons from '@element-plus/icons-vue'\r\nimport store from './store'\r\nimport Cookie from 'js-cookie'\r\n// import api from './api'\r\nimport './api/mock.js'\r\n\r\nconst app = createApp(App)\r\n// 注册全局 element-icons 组件\r\nObject.keys(icons).forEach(key => {\r\n    app.component(key, icons[key])\r\n})\r\n//添加全局前置守为\r\nrouter.beforeEach((to, from, next) => {\r\n    // token不存在，说明用户未存在，应该调到登录界面\r\n    const token = Cookie.get('token')\r\n    if (!token && to.name !== 'Login') {\r\n        next({ name: 'Login' })\r\n    } else if (token && to.name === 'Login') {\r\n        next({ name: 'Home' })\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n// app.config.globalProperties.$api = api\r\napp.use(ElementPlus, {\r\n    locale: zhCn,\r\n})\r\n    .use(router)\r\n    .use(store)\r\n    .mount('#app')"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B;AACA,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAOC,IAAI,MAAM,oCAAoC;AACrD,OAAO,6BAA6B;AACpC,OAAOC,MAAM,MAAM,UAAU;AAC7B;AACA,OAAO,KAAKC,KAAK,MAAM,yBAAyB;AAChD,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,WAAW;AAC9B;AACA,OAAO,eAAe;AAEtB,MAAMC,GAAG,GAAGR,SAAS,CAACC,GAAG,CAAC;AAC1B;AACAQ,MAAM,CAACC,IAAI,CAACL,KAAK,CAAC,CAACM,OAAO,CAACC,GAAG,IAAI;EAC9BJ,GAAG,CAACK,SAAS,CAACD,GAAG,EAAEP,KAAK,CAACO,GAAG,CAAC,CAAC;AAClC,CAAC,CAAC;AACF;AACAR,MAAM,CAACU,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC;EACA,MAAMC,KAAK,GAAGX,MAAM,CAACY,GAAG,CAAC,OAAO,CAAC;EACjC,IAAI,CAACD,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAK,OAAO,EAAE;IAC/BH,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAQ,CAAC,CAAC;EAC3B,CAAC,MAAM,IAAIF,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAK,OAAO,EAAE;IACrCH,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAO,CAAC,CAAC;EAC1B,CAAC,MAAM;IACHH,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AACF;AACAT,GAAG,CAACa,GAAG,CAACnB,WAAW,EAAE;EACjBoB,MAAM,EAAEnB;AACZ,CAAC,CAAC,CACGkB,GAAG,CAACjB,MAAM,CAAC,CACXiB,GAAG,CAACf,KAAK,CAAC,CACViB,KAAK,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}